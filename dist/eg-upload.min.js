!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"),require("eagle-ui/lib/utils/Component"),require("eagle-ui"),require("react/lib/ReactDOM"));else if("function"==typeof define&&define.amd)define(["react","eagle-ui/lib/utils/Component","eagle-ui","react/lib/ReactDOM"],e);else{var i="object"==typeof exports?e(require("react"),require("eagle-ui/lib/utils/Component"),require("eagle-ui"),require("react/lib/ReactDOM")):e(t.React,t.Component,t.Eagleui,t.ReactDom);for(var o in i)("object"==typeof exports?exports:t)[o]=i[o]}}(this,function(t,e,i,o){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=i(2),r=o(n);e.Upload=r.default,window.Eagleui&&(Eagleui.Upload=e.Upload)},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=i(3),u=o(l),p=i(4),h=o(p),d=i(5),c=i(6),f=o(c),g=i(7),m=(o(g),i(8)),v=i(17),y=(o(v),function(t){function e(i,o){n(this,e),t.call(this,i,o),this.fileList=[],this.uploadFiles=[],this.toastId=this.uniqueId(),this.imageSliderId=this.uniqueId(),this.data={},this.isRender=!0,this.timeout=null,this.target=null,this.imageFilter=/^(image\/bmp|image\/gif|image\/jpeg|image\/png|image\/tiff)$/i,this.state={baseList:[],isDrag:!1,progress:[],showFile:{name:"",url:""}}}return r(e,t),s(e,null,[{key:"propTypes",value:{classPrefix:l.PropTypes.string,componentTag:l.PropTypes.string,maxNumber:l.PropTypes.number,minNumber:l.PropTypes.number,uploadUrl:l.PropTypes.string,maxSize:l.PropTypes.number,hideImgViewWhenEmpty:l.PropTypes.bool},enumerable:!0},{key:"defaultProps",value:{classPrefix:"upload",componentTag:"div",maxSize:512e4,maxNumber:1e6,uploadBtnText:"选择上传文件",maxNumberMessage:"上传数量达到上限，最多允许上传",egSize:"default",egStyle:"",width:"100%",height:"200px",thumbWidth:"200px",thumbHeight:"200px",placeholder:"此区域支持复制粘贴上传功能，仅限图片",completeCallback:function(){},failureCallback:function(){},uploadedCallback:function(){},successCallback:function(){return!0},renderItemCallback:null,filter:function(t,e){for(var i,o=[],n=0;i=t[n];n++)o.push(i);return o}},enumerable:!0}]),e.prototype.uniqueId=function(){return"file-"+((new Date).getTime()+(1e10*Math.random()).toFixed(0))},e.prototype.getClipboardData=function(t){var e=[];if(t.clipboardData)for(var i=t.clipboardData.items,o=null,n=null,r=0,a=i.length;r<a;r++)if(o=i[r],"file"==o.kind||o.type.indexOf("image")>-1){n=o.getAsFile();try{n.name=this.uniqueId()}catch(t){console.warn("不支持更改可读属性name！")}e.push(n)}return e},e.prototype.getFiles=function(t){t.stopPropagation(),t.preventDefault();var e=t.target.files||t.dataTransfer&&t.dataTransfer.files||[];e.length<=0&&(e=this.getClipboardData(t));var i=e.length+this.fileList.length;if(this.target=t.target,i>this.props.maxNumber)return this.setState({toastMessage:this.props.maxNumberMessage+this.props.maxNumber+"张"}),void d.Dialog.mask(this.toastId);var o=this.props.filter(e,this.props.maxSize);o&&o.length&&o.length>0&&(this.fileList=this.fileList.concat(o),this.uploadFiles=o,this.dealFiles())},e.prototype.dealFiles=function(){for(var t,e=0;t=this.fileList[e];e++)t.index=e;this.select(),this.upload()},e.prototype.progressHandler=function(t,e,i){0==i&&(i=1);var o=(e/i*100).toFixed(2)+"%",n=this.state.progress;n[t.index]=o,this.setState({progress:n})},e.prototype.resetData=function(){this.uploadFiles=null},e.prototype.rollback=function(t,e){var i=this;i.fileList=i.fileList.forEach(function(e){return e.name!=t.name}),"undefined"==this.fileList,this.fileList=[],this.target&&(this.target.value=""),clearInterval(i.timeout),this.timeout=setInterval(function(){"undefined"!=typeof i.isRender&&i.isRender?i.select(i.fileList):clearInterval(i.timeout)},1e3),i.props.failureCallback(t,e.responseText)},e.prototype.upload=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.uploadFiles:arguments[0],i=this,o=0;i.props.uploadedCallback(this.fileList,e);for(var n=0,r=null;r=e[n];n++)!function(n){var r=new XMLHttpRequest;if(r.upload){r.upload.addEventListener("progress",function(t){i.progressHandler(n,t.loaded,t.total)},!1),r.onreadystatechange=function(a){if(4==r.readyState)if(200==r.status){var s=t.props.successCallback(n,JSON.parse(r.responseText||"{}"));"boolean"!=typeof s||s?i.data[n.name]=JSON.parse(r.responseText||"{}"):i.rollback(n,r),o+=1,o==e.length&&(i.resetData(),i.props.completeCallback(i.data,i.fileList&&i.fileList.length?i.fileList.length:0))}else i.rollback(n,r)},r.open("POST",i.props.uploadUrl,!0),r.setRequestHeader("X_FILENAME",encodeURIComponent(n.name));var a=new FormData;a.append(n.name||"",n),r.send(a)}}(r)},e.prototype.closeStatus=function(t,e){for(var i=e.target;"li"!=i.nodeName.toLowerCase();)i=i.parentNode;i.querySelector("i").style.display=t},e.prototype.remove=function(t){var e=this;this.fileList=this.fileList.filter(function(i){return e.data[i.name]&&i.index==t&&(e.data[i.name]=null,delete e.data[i.name]),i.index!=t});var i=0;this.fileList&&this.fileList.length&&(i=this.fileList.length),e.props.completeCallback(e.data,i),this.select()},e.prototype.showPic=function(t){this.setState({showFile:{name:t.name,url:t.result}}),d.Dialog.mask(this.imageSliderId)},e.prototype.renderItems=function(t){var e=this,i=[],o=this,n=0;return t.forEach(function(t){var r;n=e.state.progress[t.index],i.push(u.default.createElement("li",{key:t.index,onMouseEnter:(r=o.closeStatus).bind.call(r,o,"block"),onMouseLeave:(r=o.closeStatus).bind.call(r,o,"none")},o.imageFilter.test(t.type)?u.default.createElement("div",{style:{width:e.props.thumbWidth,height:e.props.thumbHeight}},u.default.createElement("img",{src:t.result,alt:t.name,title:t.name,onClick:(r=o.showPic).bind.call(r,o,t),style:{width:e.props.thumbWidth,height:e.props.thumbHeight}}),u.default.createElement("div",{className:"text",style:{width:e.props.thumbWidth},title:t.name},t.name)):u.default.createElement("div",{className:"text",style:{width:e.props.thumbWidth,height:e.props.thumbHeight,lineHeight:e.props.thumbHeight},title:t.name},t.name),u.default.createElement("div",{className:f.default("progress",{hide:!!n&&1*n.match(/\d*/)>=100})},u.default.createElement("b",{style:{width:n}},n)),u.default.createElement("i",{onClick:o.remove.bind(o,t.index)},"x")))}),i},e.prototype.select=function(){var t=arguments.length<=0||void 0===arguments[0]?this.fileList:arguments[0],e=[],i=0,o=this,n=null,r=function r(){if(n=t[i])if(o.isRender=!1,o.imageFilter.test(n.type)){var a=new FileReader;a.onload=function(t){e.push({index:n.index,name:n.name||o.uniqueId(),result:t.target.result,type:n.type}),i++,r()},a.readAsDataURL(n)}else e.push({index:n.index,name:n.name||o.uniqueId(),result:"",type:n.type}),i++,r();else o.isRender=!0,o.setState({baseList:e})};r()},e.prototype.dragLeave=function(t){this.setState({isDrag:!1})},e.prototype.dragOver=function(t){this.setState({isDrag:!0})},e.prototype.render=function(){return u.default.createElement("div",a({},this.otherProps,{className:f.default(this.getProperty(),this.props.className)}),u.default.createElement("div",null,u.default.createElement(d.Button,{egSize:this.props.egSize,egStyle:this.props.egStyle},this.props.uploadBtnText,u.default.createElement("input",{type:"file",onChange:this.getFiles.bind(this),multiple:!0}))),u.default.createElement("div",{className:"item-list",style:{display:this.props.hideImgViewWhenEmpty&&0==this.state.baseList.length?"none":"block"}},u.default.createElement("ul",{onDrop:this.getFiles.bind(this),onDragLeave:this.dragLeave.bind(this),onDragOver:this.dragOver.bind(this),onPaste:this.getFiles.bind(this),className:f.default({drag:this.state.isDrag},"clearfix"),style:{width:this.props.width,minHeight:this.props.height}},this.state.baseList.length>0?this.props.renderItemCallback?this.props.renderItemCallback.bind(this,this.state.baseList):this.renderItems(this.state.baseList):u.default.createElement("li",{className:"placeholder",style:{minHeight:this.props.height,lineHeight:this.props.height}},this.props.placeholder))),u.default.createElement(d.Dialog,{id:this.toastId,isClose:!1,isMask:!1},u.default.createElement(d.Toast,{type:"error"},this.state.toastMessage)),u.default.createElement(m.ImageView,{id:this.imageSliderId,file:this.state.showFile}))},e}(h.default));e.default=y,t.exports=e.default},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){t.exports=i},function(t,e,i){var o,n;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var n=typeof o;if("string"===n||"number"===n)t.push(o);else if(Array.isArray(o))t.push(i.apply(null,o));else if("object"===n)for(var a in o)r.call(o,a)&&o[a]&&t.push(a)}}return t.join(" ")}var r={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=i:(o=[],n=function(){return i}.apply(e,o),!(void 0!==n&&(t.exports=n)))}()},function(t,e){t.exports=o},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=i(9),r=o(n);e.ImageView=r.default,window.Eagleui&&(Eagleui.Upload=e.ImageView)},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=i(3),u=o(l),p=i(4),h=o(p),d=i(5),c=i(6),f=o(c),g=i(10),m=o(g);i(13);var v=i(12),y=function(t){function e(i,o){n(this,e),t.call(this,i,o),this.imgId=this.uniqueId(),this.totalNum=1,this.transform="scale(1, 1) rotate(0deg)",this.state={maxHeight:document.documentElement.clientHeight-100,maxWidth:document.documentElement.clientWidth-100,imgWrap:{height:"auto",width:"auto"},activeIndex:this.props.activeIndex||0,name:"图片",sizeChange:!1},this.initSize={height:"auto",width:"auto"},this.isLoop=this.props.isLoop,this.showIcon=this.props.showIcon}return r(e,t),s(e,null,[{key:"propTypes",value:{classPrefix:l.PropTypes.string,componentTag:l.PropTypes.string},enumerable:!0},{key:"defaultProps",value:{componentTag:"div",file:{name:"",url:""},id:"",isMask:!0,isLoop:!0,activeIndex:0,showIcon:{leftRotate:!1,rightRotate:!1,zoomIn:!1,zoomOut:!1}},enumerable:!0}]),e.prototype.getDirNum=function(t,e){return 1==e?t>=0?1:-1:t<=0?-1:1},e.prototype.cssEnhance=function(t,e){var i=this.transform.match(/-?\d+\.?\d*/g);if(i&&i.length>=3){var o=0,n=o.zoom,r=o.rotate;switch(t){case"rotate":n=0,r=90;break;case"max":n=.5,r=0;break;case"min":n=-.5,r=0}this.calculatePosition(n,r,t,e)}},e.prototype.componentWillReceiveProps=function(t){var e=t.activeIndex;this.setState({imgWrap:{height:"auto",width:"auto"},activeIndex:"undefined"==typeof e?this.state.activeIndex:e}),this.isLoop=t.isLoop,this.showIcon=Object.assign(this.showIcon,t.showIcon),this.resetImageStatus()},e.prototype.transformImg=function(){setTimeout(function(){var t=document.getElementById(this.imgId);if(null!=t){var e=t.style;e.WebkitTransform=this.transform,e.msTransform=this.transform,e.OTransform=this.transform,e.transform=this.transform}}.bind(this))},e.prototype.onLoadHandler=function(t){this.imgSize=this.getImgSize(this.state.activeIndex);var e=this.imgSize;this.setState({imgWrap:e}),this.resetImageStatus()},e.prototype.getDeg=function(t,e){switch(t/180%2*e){case 0:case 1:t=0;break;case.5:t=1;break;case 1.5:t=-1;break;default:t=0}return t},e.prototype.calculatePosition=function(t,e,i,o){var n=this.transform.match(/-?\d+\.?\d*/g),r=1*n[0]+t,a=1*n[2]+e*o,s=n[3]||n[4]||0,l=this.imgSize;if(l&&l.width&&l.height||(l=this.imgSize=this.getImgSize(this.state.activeIndex)),"rotate"==i){var u=this.getDirNum(a,o),p=this.getDeg(a,u);if(0==p)s=0,this.setState({imgWrap:{width:l.width,height:l.height}});else{var h=l.width/l.height,d=l.height,c=l.width,f=this.state.maxWidth,g=this.state.maxHeight,m=this.getDirNum(a,o);d>f?(d=f,c=h*d):c>g&&(d=c/h,c=g),s=m*p*(c-d)/2,this.setState({imgWrap:{width:d,height:c}})}}else this.draggable.reset();var v=1*s;if(!(r<=0)){var y=t||r-1;0!=y&&(y=y>0?.5:2,v*=y),this.transform="scale("+r+", "+r+") rotate("+a+"deg) translate("+v+"px, "+v+"px)",this.transformImg()}},e.prototype.render=function(){var t,e=this;this.isFile=!this.props.children;var i=this.props.file,o=this.isFile?i:this.transToFile();this.saveToLocal(o),this.name=this.getImgName(this.state.activeIndex),this.totalNum=this.getFileLength();var n=this.showIcon,r=(n.leftRotate,n.rightRotate,n.zoomIn),s=n.zoomOut;return u.default.createElement(d.Dialog,a({className:"imgview-dialog",id:this.props.id,isClose:!0,isMask:this.props.isMask,title:this.name},this.props),u.default.createElement("div",{className:"img-hover"},u.default.createElement("div",{className:"img-wrap "+(this.props.overflow?"img-wrap-hidden":"img-wrap-show"),style:{height:this.state.imgWrap.height,width:this.state.imgWrap.width}},u.default.createElement(m.default,{ref:function(t){e.draggable=t}},this.renderContent())),u.default.createElement("div",{className:f.default("icon-side left-15",this.isShowSideArrow())},u.default.createElement(d.Icon,{onClick:(t=this.countIndex).bind.call(t,this,"left"),className:"upload-icon",name:"chevron-left"})),u.default.createElement("div",{className:f.default("icon-side right-15",this.isShowSideArrow())},u.default.createElement(d.Icon,{onClick:(t=this.countIndex).bind.call(t,this,"right"),className:"upload-icon",name:"chevron-right"})),u.default.createElement("div",{className:"icon-box"},u.default.createElement(d.Icon,{onClick:(t=this.cssEnhance).bind.call(t,this,"rotate",-1),className:f.default("upload-icon",this.isHideIcon("left")),name:"zuoxuanzhuan",alt:"左旋转"}),u.default.createElement(d.Icon,{onClick:(t=this.cssEnhance).bind.call(t,this,"rotate",1),className:f.default("upload-icon",this.isHideIcon("right")),name:"youxuanzhuan",alt:"右旋转"}),u.default.createElement(d.Icon,{onClick:(t=this.cssEnhance).bind.call(t,this,"max",1),className:f.default("upload-icon",this.isHideIcon(r)),name:"add",alt:"放大"}),u.default.createElement(d.Icon,{onClick:(t=this.cssEnhance).bind.call(t,this,"min",1),className:f.default("upload-icon",this.isHideIcon(s)),name:"minus",alt:"缩小"}),u.default.createElement("div",{className:"tip-num"},u.default.createElement("label",{className:"red-txt"},this.state.activeIndex+1),u.default.createElement("label",{className:"mar-5"},"/"),u.default.createElement("label",{className:"white-txt"},this.totalNum)))))},e.prototype.isShowSideArrow=function(){var t=this.getFileLength();return t>1?"":"hide"},e.prototype.isHideIcon=function(t){return t?"":"hide"},e.prototype.isOverHide=function(){return""},e.prototype.renderContent=function(){return u.default.createElement("div",null,this.renderImage(this.state.activeIndex))},e.prototype.renderImage=function(t){return u.default.createElement("div",null,u.default.createElement("img",{draggable:"false",id:this.imgId,onLoad:this.onLoadHandler.bind(this),src:this.getImgSrc(t),alt:"",style:{maxHeight:this.state.maxHeight+"px",maxWidth:this.state.maxWidth+"px",msTransform:this.transform,WebkitTransform:this.transform,MozTransform:this.transform,OTransform:this.transform,transform:this.transform}}))},e.prototype.transToFile=function(){var t=[];return u.default.Children.forEach(this.props.children,function(e){t.push({name:e.props.name,url:e.props.url})}),t},e.prototype.saveToLocal=function(t){this._file=v.isArray(t)?t:v.toArray(t)},e.prototype.getFileLength=function(){return this._file?this._file.length:0},e.prototype.getImgOpt=function(t){var e=this.isValidLength(t,0,this.getFileLength()-1)?t:0;return this._file?this._file[e]:void 0},e.prototype.isValidLength=function(t,e,i){return t>=e&&t<=i},e.prototype.getImgName=function(t){var e=this.getImgOpt(t);return e?e.name:"图片"},e.prototype.getImgSrc=function(t){var e=this.getImgOpt(t);return e?e.url:""},e.prototype.getImgSize=function(t){var e=this.getImgOpt(t),i=this.initSize,o=new Image;return e?(o.src=e.url,i=this.getModifySize(o.width,o.height,this.state.maxWidth,this.state.maxHeight)):i},e.prototype.isOver=function(t,e){return t>e},e.prototype.getModifySize=function(t,e,i,o){var n=this.isOver(t,i),r=this.isOver(e,o),a={width:t,height:e},s=t/e;return(r||n)&&(a={width:s*o,height:o}),a},e.prototype.countIndex=function(t){var e=parseInt(this.state.activeIndex),i=this.totalNum-1,o=e;"left"==t?(e>0&&(o=e-1),this.isLoop&&0==e&&(o=i)):(e<i&&(o=1*e+1),this.isLoop&&e==i&&(o=0)),o!=e&&(this.name=this.getImgName(this.props,this.isFile,o),this.imgId=this.uniqueId(),this.setState({activeIndex:o,sizeChange:!1}),this.onLoadHandler())},e.prototype.resetImageStatus=function(){this.transform="scale(1, 1) rotate(0deg)",this.transformImg(),this.draggable&&this.draggable.reset()},e}(h.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),l=i(3),u=o(l),p=i(7),h=o(p),d=i(4),c=o(d),f=i(11),g=o(f),m=i(6),v=o(m),y=i(12),b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},x=b.mouse,w=function(t){function e(i){n(this,e),t.call(this,i),this.state={dragging:!1,dragged:!1,x:i.position?i.position.x:i.defaultPosition.x,y:i.position?i.position.y:i.defaultPosition.y,slackX:0,slackY:0,touchIdentifier:null}}return r(e,t),s(e,null,[{key:"propTypes",value:{bounds:l.PropTypes.string,defaultPosition:l.PropTypes.shape({x:l.PropTypes.number,y:l.PropTypes.number}),position:l.PropTypes.shape({x:l.PropTypes.number,y:l.PropTypes.number})},enumerable:!0},{key:"defaultProps",value:{bounds:"parent",defaultPosition:{x:0,y:0},position:null},enumerable:!0}]),e.prototype.componentWillMount=function(){},e.prototype.componentDidMount=function(){},e.prototype.componentWillReceiveProps=function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})},e.prototype.componentWillUnmount=function(){this.setState({dragging:!1})},e.prototype.createCoreData=function(t,e){var i=this,o=i.state,n=!y.isNum(o.lastX);return n?{node:h.default.findDOMNode(i),deltaX:0,deltaY:0,lastX:t,lastY:e,x:t,y:e}:{node:h.default.findDOMNode(i),deltaX:t-o.lastX,deltaY:e-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:e}},e.prototype.createDraggableData=function(t){var e=this;return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}},e.prototype.getPosition=function(t,e){var i="number"==typeof e?y.getTouch(t,e):null;if("number"==typeof e&&!i)return null;t=i||t;var o=h.default.findDOMNode(this),n=o.offsetParent,r=g.default(n).offset(),a=t.clientX+n.scrollLeft-r.left,s=t.clientY+n.scrollTop-r.top;return{x:a,y:s}},e.prototype.handleDragStart=function(t){var e=y.getTouchIdentifier(t);this.setState({touchIdentifier:e});var i=this.getPosition(t,e,this),o=i.x,n=i.y;this.setState({dragging:!0,dragged:!0,lastX:o,lastY:n}),y.addEvent(document,x.move,this.handleDrag.bind(this)),y.addEvent(document,x.stop,this.handleDragStop.bind(this))},e.prototype.handleDrag=function(t){if(!this.state.dragging)return!1;var e=this.getPosition(t,this.state.touchIdentifier,this),i=e.x,o=e.y,n=this.createCoreData(i,o),r=this.createDraggableData(n),a={x:r.x,y:r.y};a.lastX=i,a.lastY=o,this.setState(a)},e.prototype.handleDragStop=function(t){if(!this.state.dragging)return!1;var e={dragging:!1,lastX:NaN,lastY:NaN,slackX:0,slackY:0},i=Boolean(this.props.position);if(i){var o=this.props.position,n=o.x,r=o.y;e.x=n,e.y=r}this.setState(e),y.removeEvent(document,x.move,this.handleDrag),y.removeEvent(document,x.stop,this.handleDragStop)},e.prototype.createCSSTransform=function(t){var e="translate( "+t.x+"px, "+t.y+"px)";return{WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e}},e.prototype.onMouseDown=function(t){return x=b.mouse,this.handleDragStart(t)},e.prototype.onTouchStart=function(t){return x=b.touch,this.handleDragStart(t)},e.prototype.onMouseUp=function(t){return x=b.mouse,this.handleDragStop(t)},e.prototype.onTouchEnd=function(t){return x=b.touch,this.handleDragStop(t)},e.prototype.reset=function(){var t={x:0,y:0};this.setState(t)},e.prototype.render=function(){var t=this.createCSSTransform(this.state),e=v.default(this.props.children.props.className||"","draggable",{"draggable-dragging":this.state.dragging,"draggable-dragged":this.state.dragged});return u.default.createElement("div",a({},this.props,{className:"img-inner",onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchStart.bind(this),onMouseUp:this.onMouseUp.bind(this),onTouchEnd:this.onTouchEnd.bind(this),style:t}),u.default.cloneElement(u.default.Children.only(this.props.children),{className:e,style:a({},this.props.children.props.style)}))},e}(c.default);e.default=w,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){i(this,t),this.obj=e}return t.prototype.offset=function(){for(var t=this.obj,e=t.offsetLeft,i=t.offsetTop,o=t.offsetParent;o&&o.nodeName.toLowerCase()!=document.body;)i+=o.offsetTop,e+=o.offsetLeft,o=o.offsetParent;return{top:i,left:e,width:t.offsetWidth,height:t.offsetHeight}},t.prototype.parents=function(t){try{for(var e=this.obj.parentNode;e&&e.tagName!=arguments[0].toUpperCase();)e=e.parentNode;return[e]}catch(t){return[]}},t.prototype.matchNode=function(t,e,i){for(var o=t[i];o;o=o[e])if(1==o.nodeType)return o;return null},t.prototype.next=function(){return this.matchNode(this.obj,"nextSibling","nextSibling")},t.prototype.prev=function(){return this.matchNode(this.obj,"previousSibling","previousSibling")},t.prototype.first=function(){return this.matchNode(this.obj,"nextSibling","firstChild")},t.prototype.last=function(){return this.matchNode(this.obj,"previousSibling","lastChild")},t.prototype.parent=function(){return this.matchNode(this.obj,"parentNode","parentNode")},t.prototype.children=function t(){for(var e=this.obj,t=[],i=e.firstChild;i;i=i.nextSibling)1==i.nodeType&&t.push(i);return t},t}();t.exports=function(t){return new o(t)}},function(t,e){"use strict";function i(t){var e=t.clientHeight,i=window.getComputedStyle(t);return e+=parseInt(i.borderTopWidth,10),e+=parseInt(i.borderBottomWidth,10)}function o(t){var e=t.clientWidth,i=window.getComputedStyle(t);return e+=parseInt(i.borderLeftWidth,10),e+=parseInt(i.borderRightWidth,10)}function n(t){var e=t.clientHeight,i=window.getComputedStyle(t);return e-=parseInt(i.paddingTop,10),e-=parseInt(i.paddingBottom,10)}function r(t){var e=t.clientWidth,i=window.getComputedStyle(t);return e-=parseInt(i.paddingLeft,10),e-=parseInt(i.paddingRight,10)}function a(t,e,i){t&&(t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i)}function s(t,e,i){t&&(t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null)}function l(t,e){for(var i=0,o=t.length;i<o;i++)if(e.apply(e,[t[i],i,t]))return t[i]}function u(t,e){return t.targetTouches&&l(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&l(t.changedTouches,function(t){return e===t.identifier})}function p(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function h(t){return"number"==typeof t&&!isNaN(t)}function d(t){return t instanceof Array}function c(t){var e=[];return e.push(t),e}function f(t,e,i){return t>=e&&t<=i}e.__esModule=!0,e.outerHeight=i,e.outerWidth=o,e.innerHeight=n,e.innerWidth=r,e.addEvent=a,e.removeEvent=s,e.findInArray=l,e.getTouch=u,e.getTouchIdentifier=p,e.isNum=h,e.isArray=d,e.toArray=c,e.isValidNum=f},function(t,e,i){var o=i(14);"string"==typeof o&&(o=[[t.id,o,""]]);i(16)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,i){e=t.exports=i(15)(),e.push([t.id,".imgview-dialog .upload-icon{fill:#fff;margin:0 5px;cursor:pointer;color:#fff}.imgview-dialog .icon-box{bottom:20px;padding:5px 10px}.imgview-dialog .icon-box,.imgview-dialog .icon-side{position:absolute;visibility:hidden;opacity:0;background:rgba(0,0,0,.7);transition:all 1s ease-in-out 0s}.imgview-dialog .icon-side{top:50%;padding:5px}.imgview-dialog .img-hover:hover .icon-box,.imgview-dialog .img-hover:hover .icon-side{visibility:visible;opacity:1}.imgview-dialog .over-hidden{overflow:hidden}.imgview-dialog .hide{display:none}.imgview-dialog .left-15{left:15px}.imgview-dialog .right-15{right:15px}.imgview-dialog .tip-num{display:inline-block;margin-left:15px;font-size:1pc}.imgview-dialog .tip-num .red-txt{color:red}.imgview-dialog .tip-num .mar-5{color:#fff;margin:0 5px}.imgview-dialog .tip-num .white-txt{color:#fff}.imgview-dialog .img-wrap{position:relative}.imgview-dialog .img-wrap.img-wrap-hidden{overflow:hidden}.imgview-dialog .img-wrap.img-wrap-show{overflow:visible}.imgview-dialog .img-wrap .draggable{cursor:move}.imgview-dialog .img-wrap .img-inner{width:100%;height:100%}.imgview-dialog .img-wrap img{position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(o[r]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&o[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(t,e,i){function o(t,e){for(var i=0;i<t.length;i++){var o=t[i],n=h[o.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](o.parts[r]);for(;r<o.parts.length;r++)n.parts.push(s(o.parts[r],e))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(s(o.parts[r],e));h[o.id]={id:o.id,refs:1,parts:a}}}}function n(t){for(var e=[],i={},o=0;o<t.length;o++){var n=t[o],r=n[0],a=n[1],s=n[2],l=n[3],u={css:a,media:s,sourceMap:l};i[r]?i[r].parts.push(u):e.push(i[r]={id:r,parts:[u]})}return e}function r(){var t=document.createElement("style"),e=f();return t.type="text/css",e.appendChild(t),t}function a(){var t=document.createElement("link"),e=f();return t.rel="stylesheet",e.appendChild(t),t}function s(t,e){var i,o,n;if(e.singleton){var s=m++;i=g||(g=r()),o=l.bind(null,i,s,!1),n=l.bind(null,i,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=a(),o=p.bind(null,i),n=function(){i.parentNode.removeChild(i),i.href&&URL.revokeObjectURL(i.href)}):(i=r(),o=u.bind(null,i),n=function(){i.parentNode.removeChild(i)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}function l(t,e,i,o){var n=i?"":o.css;if(t.styleSheet)t.styleSheet.cssText=v(e,n);else{var r=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function u(t,e){var i=e.css,o=e.media;e.sourceMap;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function p(t,e){var i=e.css,o=(e.media,e.sourceMap);o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var n=new Blob([i],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(n),r&&URL.revokeObjectURL(r)}var h={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},c=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=c());var i=n(t);return o(i,e),function(t){for(var r=[],a=0;a<i.length;a++){var s=i[a],l=h[s.id];l.refs--,r.push(l)}if(t){var u=n(t);o(u,e)}for(var a=0;a<r.length;a++){var l=r[a];if(0===l.refs){for(var p=0;p<l.parts.length;p++)l.parts[p]();delete h[l.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){var o=i(18);"string"==typeof o&&(o=[[t.id,o,""]]);i(16)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,i){e=t.exports=i(15)(),e.push([t.id,".eg-upload button{position:relative}.eg-upload input[type=file]{width:100%;position:absolute;height:100%;left:0;top:0;opacity:0;cursor:pointer}.eg-upload .item-list{overflow:hidden;position:relative}.eg-upload ul{width:100%;min-height:200px;margin-top:5px;border:1px dashed #e2e2e2;background:#fff}.eg-upload ul li{margin:5px;float:left;position:relative}.eg-upload ul li.placeholder{width:100%;text-align:center;color:#e2e2e2;font-size:22px}.eg-upload ul li i{position:absolute;width:20px;height:20px;border-radius:50%;font-style:normal;background:#ccc;color:#fff;text-align:center;line-height:20px;top:-8px;right:-8px;cursor:pointer;display:none}.eg-upload ul li .text{text-align:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:200px}.eg-upload ul img{width:200px;height:200px;cursor:pointer}.eg-upload ul.drag{border-color:#999}.eg-upload ul .progress{width:100%;height:15px;background:hsla(0,0%,100%,.8);position:absolute;top:50%;color:#fff;font-size:9pt;line-height:15px;margin-top:-7px}.eg-upload ul .progress b{text-align:right;display:block;width:0;height:100%;background-color:#eb6032;background-image:linear-gradient(top,#e51,#e86c54);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#ee5511',EndColorStr='#e86c54');transition:all ease-in-out .4s}",""])}])});